# 不動産売買決済特化型タスク管理ソフト

不動産売買の決済（クロージング）プロセスに特化したタスク管理システムです。案件管理、タスク追跡、関係者管理、書類管理を統合したオールインワンソリューション。

## 🎯 プロジェクト概要

このシステムは、不動産売買の決済プロセスを効率的に管理するために開発されました。契約から決済完了までの全工程を可視化し、タスク漏れを防ぎ、スムーズな取引をサポートします。

### 主な対象ユーザー

- 不動産仲介会社の営業担当者
- 不動産取引の決済業務を担当する方
- 複数の売買案件を同時進行で管理する方

## ✨ 主要機能

### 1. 📊 カンバンボード式ダッシュボード

- **ステータス別表示**: 契約直後 → 融資承認待ち → 決済準備中 → 決済完了
- **ドラッグ&ドロップ**: 案件カードを移動してステータスを更新
- **緊急度表示**: 決済日が近い案件を色分けして警告
- **統計情報**: 総案件数、進行中、完了済みを一目で確認

### 2. 🤖 AI機能① - 契約書AI-OCR

- **PDFアップロード**: 売買契約書をドラッグ&ドロップ
- **自動情報抽出**: Gemini AIが重要情報を自動抽出
  - 契約日
  - 決済日/引渡日
  - 売買代金
  - 手付金
  - 融資特約期限
- **自動フォーム入力**: 抽出データが即座にフォームに反映
- **高精度OCR**: 日本語契約書に完全対応

### 3. ✉️ AI機能② - 連絡メール自動生成

- **AIメール作成**: 案件情報から最適なメール文面を自動生成
- **タスク連動**: 重要タスク完了時に自動的にメール提案
- **コンテキスト理解**: 案件名、買主、タスク状況を分析
- **編集可能**: 生成されたメールは自由に編集可能
- **ワンクリックコピー**: メールクライアントに簡単貼り付け

### 4. 🚨 AI機能③ - リスクアラートシステム

- **自動期限チェック**: ダッシュボード表示時に全案件を自動スキャン
- **重要期限優先**: 融資特約期限など重要な期限を最優先で検出
- **AI分析**: Gemini AIが状況を分析し、具体的な警告メッセージを生成
- **アクション提案**: 次に取るべき具体的な行動を提案
- **視覚的表示**: 重要度に応じた色分け（緊急/重要/注意/確認）
- **バッジ表示**: 該当案件カードに目立つバッジを表示
- **検出対象**:
  - 融資特約期限（3日以内）
  - 決済予定日（3日以内）
  - 期限切れタスク
  - 緊急タスク（3日以内）

### 5. 📅 カレンダー管理システム

- **3つのビューモード**: 月間・週間・日別で自由に切替可能
- **自動イベント抽出**: 契約日・決済日・タスク期限を自動表示
- **色分け表示**: イベント種類ごとに色で識別（契約/決済/期限/タスク）
- **AIスケジュール提案**: Gemini AIが最適な業務計画を自動生成
- **詳細確認**: イベントクリックでモーダル表示、案件詳細へ移動
- **今日ハイライト**: 当日の予定を視覚的に強調表示
- **主な機能**:
  - 月間ビュー: カレンダーグリッドで全体俯瞰
  - 週間ビュー: 時間軸で詳細スケジュール
  - 日別ビュー: 一日の予定をリスト表示
  - イベント詳細モーダル
  - AI業務負荷分析
  - 重要日の自動識別

### 6. 📋 案件詳細管理

#### 基本情報セクション
- 契約日、決済予定日
- 売買代金、手付金額
- 融資特約期限
- 担当営業マン情報

#### タスクリストセクション
- チェックボックスで完了/未完了を管理
- 期限日と優先度の設定
- タスク進捗率の可視化
- 緊急タスクのアラート

#### 関係者・書類セクション
- 買主、売主、銀行、司法書士等の連絡先管理
- 必要書類のステータス管理（未受領/受領済）
- 書類のアップロード・ダウンロード

## 🗂️ プロジェクト構成

```
.
├── README.md                    # このファイル
├── DATABASE_DESIGN.md           # データベース設計書
├── ER_DIAGRAM.md                # ER図
├── FRONTEND_README.md           # フロントエンド詳細ドキュメント
├── database_schema.sql          # SQLスキーマ定義
├── setup_database.sh            # データベースセットアップスクリプト
└── frontend/                    # フロントエンドアプリケーション
    ├── src/
    │   ├── pages/              # ページコンポーネント
    │   │   ├── Dashboard.jsx   # カンバンボード
    │   │   └── ProjectDetail.jsx # 案件詳細
    │   ├── styles/             # CSSファイル
    │   ├── utils/              # ユーティリティ
    │   │   └── mockData.js     # モックデータ
    │   └── ...
    └── ...
```

## 🚀 クイックスタート

### 前提条件

- Node.js 18.0 以上
- npm 8.0 以上
- PostgreSQL 13 以上（データベースを使用する場合）
- Gemini API キー（AI機能使用時）

### バックエンド起動

```bash
# バックエンドディレクトリに移動
cd backend

# 依存関係をインストール
npm install

# 環境変数を設定
cp .env.example .env
# .envファイルを編集してGemini APIキーを設定

# サーバーを起動
npm start
```

サーバーは http://localhost:3001 で起動します。

### フロントエンド起動

別のターミナルで：

```bash
# フロントエンドディレクトリに移動
cd frontend

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

ブラウザで http://localhost:5173 にアクセスしてください。

### データベースセットアップ（オプション）

```bash
# PostgreSQLデータベースを作成
createdb real_estate_settlement

# スキーマを適用
psql real_estate_settlement < database_schema.sql
```

## 🎨 技術スタック

### フロントエンド

| 技術 | バージョン | 用途 |
|-----|-----------|------|
| React | 18.x | UIフレームワーク |
| Vite | 6.x | ビルドツール・開発サーバー |
| React Router | 6.x | ページルーティング |
| @hello-pangea/dnd | 16.x | ドラッグ&ドロップ機能 |
| Lucide React | 最新 | アイコンライブラリ |
| date-fns | 4.x | 日付操作・フォーマット |

### バックエンド

| 技術 | バージョン | 用途 |
|-----|-----------|------|
| Node.js | 18.x以上 | サーバー実行環境 |
| Express | 4.x | Webフレームワーク |
| Gemini API | 1.5 Pro | AI OCR、メール生成、リスク分析 |
| Multer | 2.x | ファイルアップロード |
| CORS | 2.x | クロスオリジン対応 |

### データベース

- **PostgreSQL** 13以上
- 4つの主要テーブル: Projects, Tasks, Contacts, Documents
- 外部キー制約、インデックス、便利なビュー

## 📊 データベース設計

### テーブル一覧

1. **Projects（案件テーブル）**
   - 不動産売買案件の基本情報
   - 契約日、決済予定日、金額情報など

2. **Tasks（タスクテーブル）**
   - 案件ごとのタスク管理
   - 期限日、優先度、完了状態

3. **Contacts（関係者テーブル）**
   - 案件に関わる関係者の連絡先
   - 買主、売主、銀行、司法書士など

4. **Documents（書類テーブル）**
   - 必要書類の管理
   - ステータス、ファイルURL

詳細は [DATABASE_DESIGN.md](./DATABASE_DESIGN.md) を参照してください。

## 🖥️ 画面詳細

### ダッシュボード画面

![Dashboard](https://via.placeholder.com/800x450?text=Dashboard+Screenshot)

- カンバンボード形式で案件を管理
- ドラッグ&ドロップでステータス変更
- 決済日までの残り日数を表示
- 緊急度に応じた色分け表示

### 案件詳細画面

![Project Detail](https://via.placeholder.com/800x450?text=Project+Detail+Screenshot)

- 3セクション構成で情報を整理
- 編集可能な案件基本情報
- インタラクティブなタスクリスト
- 関係者と書類の一覧表示

### カレンダー画面

![Calendar](https://via.placeholder.com/800x450?text=Calendar+Screenshot)

- 月間・週間・日別の3ビューモード
- イベント種類別の色分け表示
- AIスケジュール提案機能
- イベントクリックで詳細確認

## 📱 レスポンシブデザイン

- **デスクトップ**: フル機能、4カラムのカンバンボード
- **タブレット**: 2カラム表示、タッチ操作対応
- **モバイル**: 1カラム、コンパクトな表示

## 🔄 開発ロードマップ

### 現在のステータス: v1.4.0 ✅

- [x] データベーススキーマ設計
- [x] フロントエンド基本機能実装
- [x] カンバンボード実装
- [x] 案件詳細画面実装
- [x] レスポンシブデザイン
- [x] **AI機能① - 契約書AI-OCR**
- [x] **AI機能② - 連絡メール自動生成**
- [x] **AI機能③ - リスクアラートシステム**
- [x] **カレンダー管理システム（AI機能④）**
- [x] バックエンドAPI構築

### 今後の予定

#### Phase 2: データベース統合
- [ ] PostgreSQLとの連携
- [ ] 認証・認可システム
- [ ] データの永続化

#### Phase 3: 追加AI機能
- [ ] AI機能⑤ - タスク自動生成
- [ ] AI機能⑥ - リスク検知の高度化（予測モデル）
- [ ] AI機能⑦ - チャットボット
- [ ] カレンダーのドラッグ&ドロップ機能

#### Phase 4: 追加機能
- [ ] 新規案件作成フォーム
- [ ] タスクの追加・編集・削除
- [ ] 関係者の追加・編集・削除
- [ ] 書類アップロード機能
- [ ] 検索・フィルター機能
- [ ] 通知機能（メール、プッシュ通知）

#### Phase 4: 高度な機能
- [ ] ダッシュボード分析機能
- [ ] レポート生成
- [ ] タスクテンプレート
- [ ] 自動リマインダー
- [ ] カレンダー連携

## 🧪 テスト

現在はモックデータで動作確認が可能です。

```bash
cd frontend
npm run dev
```

ブラウザで http://localhost:5173 にアクセスすると、サンプルデータで動作を確認できます。

## 📚 ドキュメント

### 設計書
- [DATABASE_DESIGN.md](./DATABASE_DESIGN.md) - データベース設計詳細
- [ER_DIAGRAM.md](./ER_DIAGRAM.md) - エンティティリレーションシップ図

### 開発ガイド
- [FRONTEND_README.md](./FRONTEND_README.md) - フロントエンド開発ガイド
- [backend/README.md](./backend/README.md) - バックエンドAPI仕様

### AI機能ガイド
- [docs/AI_OCR_GUIDE.md](./docs/AI_OCR_GUIDE.md) - 契約書AI-OCR使用ガイド
- [docs/AI_EMAIL_GUIDE.md](./docs/AI_EMAIL_GUIDE.md) - 連絡メール自動生成ガイド
- [docs/AI_RISK_ALERT_GUIDE.md](./docs/AI_RISK_ALERT_GUIDE.md) - リスクアラートシステム使用ガイド
- [docs/CALENDAR_GUIDE.md](./docs/CALENDAR_GUIDE.md) - カレンダー管理システム使用ガイド

## 🐛 既知の問題

現在のバージョンではモックデータを使用しているため、以下の制限があります：

- データの永続化なし（ページリロードでリセット）
- 複数ユーザーでのデータ共有不可
- 実際のファイルアップロード未実装

これらはバックエンドAPI実装時に解決予定です。

## 🤝 貢献

プロジェクトへの貢献を歓迎します！

1. このリポジトリをフォーク
2. フィーチャーブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## 📝 ライセンス

このプロジェクトは非公開プロジェクトです。

## 📧 サポート

質問や問題がある場合は、Issueを作成してください。

---

## 🎉 開発者向け情報

### 利用可能なスクリプト

```bash
# 開発サーバー起動
cd frontend && npm run dev

# 本番ビルド
cd frontend && npm run build

# プレビュー
cd frontend && npm run preview

# リンター実行
cd frontend && npm run lint
```

### コーディング規約

- コンポーネント名: PascalCase
- 関数名: camelCase
- 定数: UPPER_SNAKE_CASE
- CSSクラス名: kebab-case

### ディレクトリ構造

フロントエンドは機能別に整理されています：

- `pages/` - ページレベルのコンポーネント
- `components/` - 再利用可能なコンポーネント
- `styles/` - CSSファイル
- `utils/` - ユーティリティ関数
- `hooks/` - カスタムReact Hooks

---

**作成日**: 2025-11-12  
**バージョン**: 1.4.0  
**最終更新**: 2025-11-12

---

Made with ❤️ for 不動産業界
